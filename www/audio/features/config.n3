#@base <http://purl.org/ontology/studio/mobile-example#> .
@prefix mb: <rdf/mobile.n3#> .
@prefix mt: <http://purl.org/ontology/studio/multitrack#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix ex: <#> .

ex:beat a mb:Segmentation ;
	mb:hasFeaturesPath "beats.n3" ;
	mb:isSubset "1".

ex:beatDMO a mb:DMO ;
	mb:hasParameter ex:beat .
	
ex:moonDMO a mb:DMO ;
	mb:hasAudioPath "moon.m4a" ;
	mb:hasChild ex:beatDMO .

ex:onsetMapping a mb:Mapping ;
	mb:hasDimension [ a mb:MappingDimension ;
		mb:fromControl [ a mb:GraphControl ] ;
		mb:withFunction [ a mb:LinearFunction ] ] ;
	mb:toDMO ex:beatDMO ;
	mb:toParameter ex:beat .

ex:onsetMapping2 a mb:Mapping ;
	mb:hasDimension [ a mb:MappingDimension ;
		mb:fromControl [ a mb:Slider ;
			rdfs:label "Onset" ] ;
		mb:withFunction [ a mb:LinearFunction ] ;
		mb:hasMultiplier 400 ] ;
	mb:toDMO ex:beatDMO ;
	mb:toParameter ex:beat .

ex:rateMapping a mb:Mapping ;
	mb:hasDimension [ a mb:MappingDimension ;
		mb:fromControl [ a mb:Slider ;
			rdfs:label "Rate" ] ;
		mb:withFunction [ a mb:LinearFunction ] ;
		mb:hasMultiplier 2 ] ;
	mb:toDMO ex:beatDMO ;
	mb:toParameter mb:Rate .

ex:statsMapping a mb:Mapping ;
	mb:hasDimension [ a mb:MappingDimension ;
		mb:fromControl [ a mb:Slider ;
			rdfs:label "Segment duration" ] ;
		mb:withFunction [ a mb:LinearFunction ] ;
		mb:hasMultiplier 2 ] ;
	mb:toDMO ex:beatDMO ;
	mb:toParameter mb:SegmentDurationRatio .

ex:moon a mb:Rendering ;
	mb:hasDMO ex:moonDMO ;
	mb:hasMapping ex:onsetMapping, ex:onsetMapping2, ex:rateMapping, ex:statsMapping ;
	rdfs:label "Features Demo" .
